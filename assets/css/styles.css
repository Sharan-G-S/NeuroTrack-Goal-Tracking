/* Global theme inspired by Codédex — pixel vibe, bold colors, smooth scroll */
:root {
  --bg-0: #0b1020;
  --bg-1: #0f1630;
  --bg-2: #131a3b;
  --text: #eef4ff;
  --muted: #a7b5d8;
  --brand: #4de7ff; /* cyan */
  --brand-2: #7df3c9; /* mint */
  --accent: #7bd3ff; /* light blue */
  --glass: rgba(255,255,255,.03);
  --glass-2: rgba(255,255,255,.02);
  --ease-fast: cubic-bezier(.2,.9,.3,1);
  --danger: #ff6b6b;
  --ok: #38ef7d;
  --card: #151a36cc;
  --border: #2a3463;
  --shadow: 0 10px 24px rgba(0,0,0,.45);
}

* { box-sizing: border-box; }

html, body { height: 100%; }
html { scroll-behavior: smooth; }
body {
  margin: 0;
  color: var(--text);
  background: linear-gradient(180deg, var(--bg-0), var(--bg-1) 40%, var(--bg-2));
  font-family: "Chakra Petch", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  overflow-x: hidden;
}

/* slight smoothing for webfonts */
body { -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }

/* Custom cursor hidden default, sparkle trail will act as cursor */
body.custom-cursor { cursor: none; }

.container { width: min(1200px, 92vw); margin: 0 auto; }

/* Navbar */
.navbar {
  position: sticky; top: 0; z-index: 50;
  backdrop-filter: blur(10px);
  background: linear-gradient(180deg, rgba(10,14,30,.9), rgba(10,14,30,.6));
  border-bottom: 1px solid var(--border);
}
.nav-inner { display:flex; align-items:center; justify-content:space-between; padding: 14px 0; }
.brand { display:flex; align-items:center; gap:10px; font-weight:800; letter-spacing:.3px; color: #ffffff; }
.brand .logo { width: 28px; height: 28px; background: var(--brand); border-radius: 6px; box-shadow: 0 0 0 2px #000 inset, 0 2px 0 0 rgba(0,0,0,.3); }
.brand span { font-family: "Press Start 2P", system-ui; font-size: 14px; line-height: 1; font-weight: 700; }

.nav-links { display:flex; align-items:center; gap:18px; }
.nav-links a { color: var(--muted); text-decoration:none; font-weight:600; font-size:14px; padding:8px 10px; border-radius:6px; }
.nav-links a.active, .nav-links a:hover { color: var(--text); background: #0e1430; }

.btn {
  --bg: var(--brand);
  --fg: #0b1020;
  background: var(--bg);
  color: var(--fg);
  border: none; border-radius: 10px; padding: 12px 18px; font-weight: 800; letter-spacing:.3px;
  box-shadow: 0 6px 0 #e2b22e, 0 10px 24px rgba(0,0,0,.4);
  transform: translateY(0); transition: transform .1s ease, box-shadow .2s ease, filter .2s ease;
}
.btn:hover { filter: brightness(1.05); }
.btn:active { transform: translateY(2px); box-shadow: 0 4px 0 #e2b22e, 0 8px 18px rgba(0,0,0,.4); }
.btn.secondary { --bg: #1f2a5f; --fg: #e2e8ff; box-shadow: 0 6px 0 #11193b, 0 10px 24px rgba(0,0,0,.4); }

/* Hero with parallax layers */
.hero {
  position: relative; min-height: 84vh; display:grid; place-items:center; overflow:hidden;
}
/* full-bleed hero background to mirror Zenith sample */
.hero::before{
  content: ""; position:absolute; inset:0; z-index:0; background-image: url('https://zenith-evolve-sphere.lovable.app/assets/hero-background-ujnbSNlO.jpg'); background-size:cover; background-position:center; opacity:0.95; filter: saturate(.95) contrast(.95);
}
.hero .sky { position:absolute; inset:-10% -10% 0 -10%; background: radial-gradient(120% 100% at 50% 0%, #1a2b6f, #0c1240 60%, #0a0f2a 100%); z-index:0; }
.hero canvas#starfield { position:absolute; inset:0; z-index:1; pointer-events:none; opacity:.9; }
.hero .layer { position:absolute; inset:auto; width:120%; left:-10%; height:50vh; background-repeat:repeat-x; background-size: contain; }
.layer.mountains { bottom: 12vh; background-image: url('../img/mountains.svg'); opacity:.95; animation: slide-x 40s linear infinite; }
.layer.hills { bottom: 6vh; background-image: url('../img/hills.svg'); opacity:.9; animation: slide-x 60s linear infinite reverse; }
.layer.ground { bottom: 0; height: 16vh; background-image: url('../img/ground.svg'); opacity:1; image-rendering: pixelated; }
/* Pixel clouds above mountains - pure white for visibility */
.layer.clouds { top: 12vh; height: 22vh; background-image: url('../img/clouds.svg'); opacity:1; animation: slide-x 80s linear infinite; filter: drop-shadow(0 2px 4px rgba(0,0,0,.5)); left:0; }
/* Treeline, slightly teal/blue to fit palette */
.layer.trees { bottom: 3vh; height: 18vh; background-image: url('../img/trees.svg'); opacity:.95; image-rendering: pixelated; animation: slide-x 90s linear infinite reverse; }
@keyframes slide-x { from { background-position-x: 0; } to { background-position-x: -1000px; } }

.hero .content { position: relative; z-index: 3; text-align:center; padding: 80px 0; color: var(--text); }
.hero h1 { font-family: "Press Start 2P"; font-size: clamp(30px, 4.5vw, 68px); margin: 0 0 18px; text-shadow: 0 8px 30px rgba(0,0,0,.6); letter-spacing: .6px; }
.hero p { color: rgba(230,240,255,.9); margin: 0 0 28px; font-size: 18px; max-width: 820px; margin-left:auto; margin-right:auto; }
.hero .cta { margin-top: 18px; display:flex; gap:12px; justify-content:center; }
.hero .cta .btn { padding: 14px 22px; border-radius: 14px; font-weight:900; box-shadow: 0 10px 30px rgba(0,0,0,.5); transition: transform .28s var(--ease-fast), box-shadow .28s var(--ease-fast), filter .24s var(--ease-fast); }
.btn.primary { background: linear-gradient(90deg, var(--brand), var(--accent)); color: #071028; box-shadow: 0 12px 36px rgba(34,168,210,.12), 0 2px 0 rgba(0,0,0,.35); transform: translateY(0); }
.btn.primary:hover { transform: translateY(-4px); box-shadow: 0 18px 48px rgba(34,168,210,.18); filter: saturate(1.05); }
.btn.secondary { --bg: #0f1a3a; --fg: var(--text); background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.01)); color: var(--text); border:1px solid var(--glass); }

/* subtle pulsing glow on primary CTAs */
@keyframes pulse-glow { 0%{ box-shadow: 0 6px 20px rgba(77,231,255,.06); } 50%{ box-shadow: 0 18px 48px rgba(77,231,255,.12); } 100%{ box-shadow: 0 6px 20px rgba(77,231,255,.06); } }
.btn.primary.pulse { animation: pulse-glow 2.6s infinite; }

.badges { display:flex; justify-content:center; gap:18px; margin-top: 28px; opacity:.9; filter: saturate(.9); }
.badges .badge { height: 26px; opacity:.9; }

/* Cards grid */
.grid { display:grid; grid-template-columns: repeat(12, 1fr); gap: 18px; position: relative; z-index: 3; }
.card { grid-column: span 6; background: linear-gradient(180deg, rgba(11,17,48,.6), rgba(10,13,30,.5)); border:1px solid rgba(255,255,255,.04); border-radius: 16px; padding: 22px; box-shadow: 0 12px 36px rgba(6,10,28,.6); position:relative; overflow:hidden; backdrop-filter: blur(6px); transition: transform .26s var(--ease-fast), box-shadow .26s var(--ease-fast); }
.card:hover { transform: translateY(-6px) scale(1.01); box-shadow: 0 28px 60px rgba(6,10,28,.7); border-color: rgba(77,231,255,.06); }
.card h3 { color: rgba(230,240,255,.98); }
.card h3 { margin:6px 0 8px; font-size:18px; }
.card p { margin:0; color: var(--muted); }
.card.link { cursor: pointer; }
.card .arrow { position:absolute; right: 16px; bottom: 16px; opacity:.6; }

/* Section-by-section scroll choreography */
.section { padding: 70px 0; position: relative; z-index: 3; }
.section .lead { font-size: clamp(18px, 2.2vw, 22px); color: var(--muted); }
.timeline { position: relative; }
.scene { display:grid; grid-template-columns: repeat(12, 1fr); align-items:center; gap:18px; min-height: 60vh; position: relative; }
.scene .illus { grid-column: span 6; text-align:center; }
.scene .copy { grid-column: span 6; }
.choreo { opacity: calc(0.2 + var(--p,0)); transform: translateY(calc((1 - var(--p,0)) * 30px)) scale(calc(.98 + var(--p,0)*.02)); transition: opacity .2s linear, transform .2s linear; }

/* Simple pixel-plate illustrations */
.pixel-plate { display:inline-grid; grid-template-columns: repeat(8, 12px); gap: 2px; padding: 14px; background:#0b1130; border:1px solid var(--border); border-radius:12px; box-shadow: var(--shadow); }
.pixel-plate span { width:12px; height:12px; background:#7dd3fc; box-shadow: 0 0 0 1px #000 inset; }
.pixel-plate .y { background: var(--brand); }
.pixel-plate .p { background: var(--accent); }

/* Sections reveal */
.reveal { opacity: 0; transform: translateY(20px) scale(.98); transition: opacity .8s ease, transform .8s ease; }
.reveal.visible { opacity: 1; transform: translateY(0) scale(1); }

/* Footer */
footer { padding: 40px 0; color: #9fb3ff; border-top: 1px solid var(--border); background: #0b1130; }

/* Responsive */
.features { display:grid; grid-template-columns: repeat(12, 1fr); gap:18px; position: relative; z-index: 3; }
.feature { grid-column: span 4; background: var(--card); border:1px solid var(--border); border-radius:16px; padding:22px; box-shadow: var(--shadow); }
.feature h3 { margin:6px 0 8px; font-size:18px; }
.feature p { color: var(--muted); margin:0; }

.steps { display:grid; grid-template-columns: repeat(12, 1fr); gap:18px; counter-reset: step; position: relative; z-index: 3; }
.step { grid-column: span 4; background:#0b1233; border:1px dashed var(--border); border-radius:16px; padding:20px; position:relative; padding-top: 50px; }
.step:before { counter-increment: step; content: counter(step); position:absolute; left:12px; top:12px; width:28px; height:28px; display:grid; place-items:center; background:var(--brand); color:#111; border-radius:8px; font-weight:800; }
.step b { display: block; margin-bottom: 8px; font-size: 16px; color: var(--text); }
.faq { display:grid; grid-template-columns: repeat(12, 1fr); gap:18px; position: relative; z-index: 3; }
.faq .q { grid-column: span 6; background:#0b1130; border:1px solid var(--border); border-radius:12px; padding:18px; }

/* Chat / Companion styles */
.chat-container { height: 260px; overflow:auto; border-radius:12px; padding:12px; background: linear-gradient(180deg, rgba(5,8,20,.35), rgba(6,10,28,.45)); border:1px solid rgba(255,255,255,.03); display:flex; flex-direction:column; }
.chat-bubble { display:inline-block; max-width:78%; padding:10px 12px; margin:8px 0; border-radius:12px; line-height:1.25; }
.chat-bubble.user { background: linear-gradient(90deg, rgba(77,231,255,.12), rgba(125,243,201,.06)); color:var(--text); align-self:flex-end; margin-left:auto; border:1px solid rgba(77,231,255,.08); box-shadow: 0 6px 18px rgba(77,231,255,.04); }
.chat-bubble.zenith { background: linear-gradient(90deg, rgba(18,25,60,.6), rgba(10,14,30,.5)); color:rgba(230,240,255,.95); border:1px solid rgba(255,255,255,.03); box-shadow: 0 6px 20px rgba(3,10,30,.18); }
.chat-row { display:flex; flex-direction:column; }
.chat-input-row { display:flex; gap:8px; margin-top:10px; }
.chat-input-row input { flex:1; border-radius:10px; padding:10px; border:1px solid rgba(255,255,255,.04); background: rgba(5,8,20,.5); color:var(--text); }
.chat-input-row button { padding:10px 14px; border-radius:10px; }

/* avatar slot subtle glow */
.avatar-slot { width:100%; height:120px; background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.01)); border-radius:12px; border:1px solid rgba(255,255,255,.02); display:inline-block; box-shadow: inset 0 -4px 6px rgba(0,0,0,.35); }
.avatar-slot[data-size] { height: auto; padding: 18px; display:grid; place-items:center; }

/* smoother reveal timing */
.reveal { opacity: 0; transform: translateY(18px) scale(.995); transition: opacity .7s cubic-bezier(.2,.9,.3,1), transform .7s cubic-bezier(.2,.9,.3,1); }
.reveal.visible { opacity: 1; transform: translateY(0) scale(1); }

@media (max-width: 900px) {
  .nav-links { display:none; }
  .card { grid-column: span 12; }
  .hero h1 { font-size: clamp(24px, 6vw, 42px); }
  .scene .illus, .scene .copy { grid-column: span 12; text-align: left; }
  .feature, .step, .faq .q { grid-column: span 12; }
}

/* Sparkle cursor trail */
.sparkle { position: fixed; width: 10px; height: 10px; pointer-events:none; border-radius:50%; background: radial-gradient(circle, #fff, var(--brand)); filter: blur(.4px) saturate(1.2);
  animation: sparkle .6s ease-out forwards; z-index: 1000; }
@keyframes sparkle { from { transform: scale(1); opacity: .9; } to { transform: translateY(10px) scale(0); opacity: 0; } }

/* Glitch effect (used on Sync page when inactive) */
.glitchy::after, .glitchy::before { content: attr(data-glitch); position: absolute; left:0; right:0; text-align:center; color:#fff; }
.glitchy::before { animation: glitch-shift 1.2s infinite linear alternate; clip-path: polygon(0 0,100% 0,100% 45%,0 55%); color:#ff66c4; mix-blend-mode: screen; }
.glitchy::after { animation: glitch-shift 1s infinite linear alternate-reverse; clip-path: polygon(0 55%,100% 45%,100% 100%,0 100%); color:#6df3ff; mix-blend-mode: screen; }
@keyframes glitch-shift { 0%{ transform: translate(0,0); } 20%{ transform: translate(2px,-1px); } 40%{ transform: translate(-2px,1px); } 60%{ transform: translate(3px,-2px); } 80%{ transform: translate(-1px,2px); } 100%{ transform: translate(1px,0); } }

/* Energy meter */
.energy { height: 14px; background: #0d1338; border:1px solid var(--border); border-radius: 12px; overflow: hidden; box-shadow: inset 0 0 14px rgba(0,0,0,.6); }
.energy .fill { height:100%; width: 100%; background: linear-gradient(90deg, #19e68c, #b0ff3b); transition: width .6s ease, filter .3s ease; }
.energy.low .fill { background: linear-gradient(90deg, #ff5f6d, #ffc371); filter: hue-rotate(-10deg) saturate(1.2); }

/* Utility */
.center { text-align:center; }
.mt-2 { margin-top: 12px; }
.mt-4 { margin-top: 24px; }
.mt-6 { margin-top: 36px; }

/* Page-specific minor styles will live here as needed */

/* Modal (for Goals & Schedules) */
.modal-backdrop { position: fixed; inset:0; background: rgba(5,8,20,.65); backdrop-filter: blur(6px); display:none; align-items:center; justify-content:center; z-index: 80; }
.modal-backdrop.show { display:flex; }
.modal { width: min(560px, 92vw); background: #0c1340; border:1px solid var(--border); border-radius: 16px; box-shadow: var(--shadow); padding: 18px; }
.modal h3 { margin-top:0; }
.modal .row { display:flex; gap:10px; margin:10px 0; }
.modal label { width: 140px; color: var(--muted); }
.modal input, .modal select, .modal textarea { flex:1; padding:10px; border-radius:8px; border:1px solid var(--border); background:#0d1542; color: var(--text); }
.modal footer { display:flex; justify-content:flex-end; gap:10px; margin-top:10px; }
